{"ast":null,"code":"var _jsxFileName = \"/Users/yuning/Documents/GitHub/BillShare/billshare_react/src/components/LoginComponent.jsx\",\n    _s = $RefreshSig$();\n\nimport { Formik, Field, Form } from \"formik\";\nimport React, { Component } from \"react\";\nimport { useNavigate } from 'react-router-dom';\nimport AuthenticationService from \"../api/AuthenticationService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass LoginComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: 'yuninx1',\n      password: '',\n      loginSuccessful: false,\n      loginFailed: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.loginState = this.loginState.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  loginState() {\n    console.log(this.state);\n    AuthenticationService.executeJWTAuthService(this.state.email, this.state.password).then(response => {\n      AuthenticationService.registerSuccessfulLoginForJWT(this.state.email, response.data.token);\n      this.props.navigate(`/welcome/${this.state.email}`); // newly added v6\n    }).catch(error => {\n      this.setState({\n        loginSuccessful: false,\n        loginFailed: true\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Login\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [this.state.loginSuccessful && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Login Successful!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 52\n        }, this), this.state.loginFailed && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-warning\",\n          children: \"Login Failed!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 48\n        }, this), /*#__PURE__*/_jsxDEV(Formik, {\n          onSubmit: this.loginState,\n          enableReinitialize: true,\n          initialValues: this.state,\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            children: [/*#__PURE__*/_jsxDEV(\"fieldset\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"User name:\\xA0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 50,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Field, {\n                className: \"form\",\n                type: \"text\",\n                name: \"email\",\n                placeholder: \"email\",\n                onChange: this.handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\xA0Password:\\xA0\\xA0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Field, {\n                className: \"form\",\n                type: \"password\",\n                name: \"password\",\n                onChange: this.handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-success\",\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this);\n  }\n\n} // newly added v6\n\n\nfunction WithNavigate(props) {\n  _s();\n\n  let navigate = useNavigate();\n  return /*#__PURE__*/_jsxDEV(LoginComponent, { ...props,\n    navigate: navigate\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 12\n  }, this);\n}\n\n_s(WithNavigate, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n\n_c = WithNavigate;\nexport default WithNavigate;\n\nvar _c;\n\n$RefreshReg$(_c, \"WithNavigate\");","map":{"version":3,"sources":["/Users/yuning/Documents/GitHub/BillShare/billshare_react/src/components/LoginComponent.jsx"],"names":["Formik","Field","Form","React","Component","useNavigate","AuthenticationService","LoginComponent","constructor","props","state","email","password","loginSuccessful","loginFailed","handleChange","bind","loginState","event","setState","target","name","value","console","log","executeJWTAuthService","then","response","registerSuccessfulLoginForJWT","data","token","navigate","catch","error","render","WithNavigate"],"mappings":"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","sourcesContent":["import { Formik, Field, Form } from \"formik\";\nimport React, {Component} from \"react\";\nimport { useNavigate } from 'react-router-dom'\nimport AuthenticationService from \"../api/AuthenticationService\";\nclass LoginComponent extends Component {\n    constructor(props){\n        super(props)\n        this.state = {\n            email: 'yuninx1',\n            password: '',\n            loginSuccessful: false,\n            loginFailed: false\n        }\n        this.handleChange = this.handleChange.bind(this)\n        this.loginState = this.loginState.bind(this)\n        \n    }\n\n    handleChange (event){\n        this.setState({[event.target.name]:event.target.value})\n    }\n    loginState(){\n\n        console.log(this.state)\n        AuthenticationService.executeJWTAuthService(this.state.email,this.state.password)\n            .then(response => {\n                AuthenticationService.registerSuccessfulLoginForJWT(this.state.email, response.data.token)\n                this.props.navigate(`/welcome/${this.state.email}`) // newly added v6\n            }).catch(error => {\n                this.setState({loginSuccessful : false,loginFailed : true})\n            })\n    }\n\n    render(){\n        return (\n            \n            <div className=\"Login\">\n                <h1>Login</h1>\n\n                <div className=\"container\">\n                    {this.state.loginSuccessful && <div>Login Successful!</div>}\n                    {this.state.loginFailed && <div className=\"alert alert-warning\">Login Failed!</div>}\n                    <Formik\n                    onSubmit={this.loginState}\n                    enableReinitialize={true}\n                    initialValues={this.state}\n                    >\n                        <Form>\n                            <fieldset>\n                                <label>User name:&nbsp;</label>\n                                <Field className=\"form\" type=\"text\" name=\"email\" placeholder=\"email\" onChange= {this.handleChange}></Field>\n                            </fieldset>\n                            <fieldset>\n                                <label>&nbsp;Password:&nbsp;&nbsp;</label>\n                                <Field className=\"form\" type=\"password\" name=\"password\" onChange= {this.handleChange}></Field>\n                            </fieldset>\n                            <button className=\"btn btn-success\">Login</button>\n                        </Form>\n                    </Formik>\n                </div>\n            </div>\n        )\n    }\n}\n\n// newly added v6\nfunction WithNavigate(props) {\n    let navigate = useNavigate()\n    return <LoginComponent {...props} navigate={navigate} />\n}\nexport default WithNavigate"]},"metadata":{},"sourceType":"module"}