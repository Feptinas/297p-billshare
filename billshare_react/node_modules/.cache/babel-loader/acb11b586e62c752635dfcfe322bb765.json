{"ast":null,"code":"var _jsxFileName = \"/Users/yuning/Documents/GitHub/BillShare/billshare_react/src/api/TestWebSocket/app.js\";\nimport Stomp from \"stompjs\";\nimport SockJS from \"sockjs-client\";\nimport jquery from \"jquery\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar stompClient = null;\n\n/*#__PURE__*/\n_jsxDEV(\"script\", {\n  src: \"http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js\",\n  type: \"text/javascript\"\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 8,\n  columnNumber: 1\n}, this);\n\nfunction setConnected(connected) {\n  $(\"#connect\").prop(\"disabled\", connected);\n  $(\"#disconnect\").prop(\"disabled\", !connected);\n\n  if (connected) {\n    $(\"#conversation\").show();\n  } else {\n    $(\"#conversation\").hide();\n  }\n\n  $(\"#greetings\").html(\"\");\n}\n\nfunction connect() {\n  var socket = new SockJS('/gs-guide-websocket');\n  stompClient = Stomp.over(socket);\n  stompClient.connect({}, function (frame) {\n    setConnected(true);\n    console.log('Connected: ' + frame);\n    stompClient.subscribe('/topic/greetings', function (greeting) {\n      showGreeting(JSON.parse(greeting.body).content);\n    });\n  });\n}\n\nfunction disconnect() {\n  if (stompClient !== null) {\n    stompClient.disconnect();\n  }\n\n  setConnected(false);\n  console.log(\"Disconnected\");\n}\n\nfunction sendName() {\n  stompClient.send(\"/app/hello\", {}, JSON.stringify({\n    'name': $(\"#name\").val()\n  }));\n}\n\nfunction showGreeting(message) {\n  $(\"#greetings\").append(\"<tr><td>\" + message + \"</td></tr>\");\n}\n\n$(function () {\n  $(\"form\").on('submit', function (e) {\n    e.preventDefault();\n  });\n  $(\"#connect\").click(function () {\n    connect();\n  });\n  $(\"#disconnect\").click(function () {\n    disconnect();\n  });\n  $(\"#send\").click(function () {\n    sendName();\n  });\n});","map":{"version":3,"sources":["/Users/yuning/Documents/GitHub/BillShare/billshare_react/src/api/TestWebSocket/app.js"],"names":["Stomp","SockJS","jquery","stompClient","setConnected","connected","$","prop","show","hide","html","connect","socket","over","frame","console","log","subscribe","greeting","showGreeting","JSON","parse","body","content","disconnect","sendName","send","stringify","val","message","append","on","e","preventDefault","click"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,SAAlB;AACA,OAAOC,MAAP,MAAmB,eAAnB;AACA,OAAOC,MAAP,MAAmB,QAAnB;;AAIA,IAAIC,WAAW,GAAG,IAAlB;;AACA;AAAA;AAAQ,EAAA,GAAG,EAAC,iEAAZ;AAA8E,EAAA,IAAI,EAAC;AAAnF;AAAA;AAAA;AAAA;AAAA;;AAEA,SAASC,YAAT,CAAsBC,SAAtB,EAAiC;AAC7BC,EAAAA,CAAC,CAAC,UAAD,CAAD,CAAcC,IAAd,CAAmB,UAAnB,EAA+BF,SAA/B;AACAC,EAAAA,CAAC,CAAC,aAAD,CAAD,CAAiBC,IAAjB,CAAsB,UAAtB,EAAkC,CAACF,SAAnC;;AACA,MAAIA,SAAJ,EAAe;AACXC,IAAAA,CAAC,CAAC,eAAD,CAAD,CAAmBE,IAAnB;AACH,GAFD,MAGK;AACDF,IAAAA,CAAC,CAAC,eAAD,CAAD,CAAmBG,IAAnB;AACH;;AACDH,EAAAA,CAAC,CAAC,YAAD,CAAD,CAAgBI,IAAhB,CAAqB,EAArB;AACH;;AAED,SAASC,OAAT,GAAmB;AACf,MAAIC,MAAM,GAAG,IAAIX,MAAJ,CAAW,qBAAX,CAAb;AACAE,EAAAA,WAAW,GAAGH,KAAK,CAACa,IAAN,CAAWD,MAAX,CAAd;AACAT,EAAAA,WAAW,CAACQ,OAAZ,CAAoB,EAApB,EAAwB,UAAUG,KAAV,EAAiB;AACrCV,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACAW,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAgBF,KAA5B;AACAX,IAAAA,WAAW,CAACc,SAAZ,CAAsB,kBAAtB,EAA0C,UAAUC,QAAV,EAAoB;AAC1DC,MAAAA,YAAY,CAACC,IAAI,CAACC,KAAL,CAAWH,QAAQ,CAACI,IAApB,EAA0BC,OAA3B,CAAZ;AACH,KAFD;AAGH,GAND;AAOH;;AAED,SAASC,UAAT,GAAsB;AAClB,MAAIrB,WAAW,KAAK,IAApB,EAA0B;AACtBA,IAAAA,WAAW,CAACqB,UAAZ;AACH;;AACDpB,EAAAA,YAAY,CAAC,KAAD,CAAZ;AACAW,EAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACH;;AAED,SAASS,QAAT,GAAoB;AAChBtB,EAAAA,WAAW,CAACuB,IAAZ,CAAiB,YAAjB,EAA+B,EAA/B,EAAmCN,IAAI,CAACO,SAAL,CAAe;AAAC,YAAQrB,CAAC,CAAC,OAAD,CAAD,CAAWsB,GAAX;AAAT,GAAf,CAAnC;AACH;;AAED,SAAST,YAAT,CAAsBU,OAAtB,EAA+B;AAC3BvB,EAAAA,CAAC,CAAC,YAAD,CAAD,CAAgBwB,MAAhB,CAAuB,aAAaD,OAAb,GAAuB,YAA9C;AACH;;AAEDvB,CAAC,CAAC,YAAY;AACVA,EAAAA,CAAC,CAAC,MAAD,CAAD,CAAUyB,EAAV,CAAa,QAAb,EAAuB,UAAUC,CAAV,EAAa;AAChCA,IAAAA,CAAC,CAACC,cAAF;AACH,GAFD;AAGA3B,EAAAA,CAAC,CAAE,UAAF,CAAD,CAAgB4B,KAAhB,CAAsB,YAAW;AAAEvB,IAAAA,OAAO;AAAK,GAA/C;AACAL,EAAAA,CAAC,CAAE,aAAF,CAAD,CAAmB4B,KAAnB,CAAyB,YAAW;AAAEV,IAAAA,UAAU;AAAK,GAArD;AACAlB,EAAAA,CAAC,CAAE,OAAF,CAAD,CAAa4B,KAAb,CAAmB,YAAW;AAAET,IAAAA,QAAQ;AAAK,GAA7C;AACH,CAPA,CAAD","sourcesContent":["import Stomp from \"stompjs\";\nimport SockJS from \"sockjs-client\";\nimport jquery from \"jquery\";\n\n\n\nvar stompClient = null;\n<script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js\" type=\"text/javascript\"></script>\n\nfunction setConnected(connected) {\n    $(\"#connect\").prop(\"disabled\", connected);\n    $(\"#disconnect\").prop(\"disabled\", !connected);\n    if (connected) {\n        $(\"#conversation\").show();\n    }\n    else {\n        $(\"#conversation\").hide();\n    }\n    $(\"#greetings\").html(\"\");\n}\n\nfunction connect() {\n    var socket = new SockJS('/gs-guide-websocket');\n    stompClient = Stomp.over(socket);\n    stompClient.connect({}, function (frame) {\n        setConnected(true);\n        console.log('Connected: ' + frame);\n        stompClient.subscribe('/topic/greetings', function (greeting) {\n            showGreeting(JSON.parse(greeting.body).content);\n        });\n    });\n}\n\nfunction disconnect() {\n    if (stompClient !== null) {\n        stompClient.disconnect();\n    }\n    setConnected(false);\n    console.log(\"Disconnected\");\n}\n\nfunction sendName() {\n    stompClient.send(\"/app/hello\", {}, JSON.stringify({'name': $(\"#name\").val()}));\n}\n\nfunction showGreeting(message) {\n    $(\"#greetings\").append(\"<tr><td>\" + message + \"</td></tr>\");\n}\n\n$(function () {\n    $(\"form\").on('submit', function (e) {\n        e.preventDefault();\n    });\n    $( \"#connect\" ).click(function() { connect(); });\n    $( \"#disconnect\" ).click(function() { disconnect(); });\n    $( \"#send\" ).click(function() { sendName(); });\n});"]},"metadata":{},"sourceType":"module"}